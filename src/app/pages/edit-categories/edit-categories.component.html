<ct-navigation-bar></ct-navigation-bar>
<div class="edit-categories d-flex flex-row">
  <ct-sidebar></ct-sidebar>
  <div class="wrapper">
      <div class="d-flex justify-content-between section-title">
          <h1>Edit categories</h1>
      </div>
      <div class="table-wrapper">
          <table class="table table-bordered">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Tax Year</th>
                  <th>Taypayer</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let category of categories; let index = index">
                  <td>{{category.name}}</td>
                  <td>{{category.disputed.taxyear}}</td>
                  <td>{{category.disputed.taxpayer}}</td>
                  <td class="action-col">
                    <button [routerLink]="['/case', case_id, 'categories', getCategoryId(index), 'edit', 'edit']">Edit</button>
                    <button (click)="moveUp(index)">Up</button>
                    <button (click)="moveDown(index)">Down</button>
                    <button (click)="deleteCategory(index)">Delete</button>
                  </td>
                </tr>
              </tbody>
          </table>
      </div>
      <button type="button" class="btn btn-primary create-case" [routerLink]="['/case', case_id, 'categories', 'edit', 'add']"> Add </button>
      <nav class="float-right" *ngIf="total_count >= items_per_page">
        <ul class="pagination">
          <li [ngClass]="page_number === 1 ? 'page-item disabled' : 'page-item'" (click)="getItemsByPage(page_number-1)">
            <a class="page-link" href="javascript:">Previous</a>
          </li>
          <li *ngFor="let item of range()" [ngClass]="page_number == item + 1 ? 'page-item active' : 'page-item'" (click)="getItemsByPage(item+1)">
            <a class="page-link" href="javascript:">{{item + 1}}</a>
          </li>
          <li [ngClass]="page_number === total_page ? 'page-item disabled' : 'page-item'" (click)="getItemsByPage(page_number+1)">
            <a class="page-link" href="javascript:">Next</a>
          </li>
        </ul>
      </nav>
  </div>
</div>
